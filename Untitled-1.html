<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–æ–π–º–∞–π –ø–∏–≤–æ –≤ –±–∞–Ω–µ —Å –ú–∞—Ç–≤–µ–µ–º</title>
    <style>
        /* –°–±—Ä–æ—Å —Å—Ç–∏–ª–µ–π –∏ –±–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            background-color: #1a1a1a;
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* –§–æ–Ω —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω–æ–π –ø–æ–¥–ª–æ–∂–∫–æ–π –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ */
        .overlay {
            background: linear-gradient(to bottom, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.7) 100%);
            min-height: 100vh;
            padding: 15px;
            display: flex;
            flex-direction: column;
        }
        
        /* –®–∞–ø–∫–∞ */
        header {
            text-align: center;
            padding: 15px 0;
            margin-bottom: 20px;
            border-bottom: 3px solid #ff6b00;
        }
        
        h1 {
            font-size: clamp(1.8rem, 5vw, 3rem);
            color: #ff6b00;
            text-shadow: 2px 2px 4px #000;
            margin-bottom: 8px;
            line-height: 1.2;
        }
        
        .subtitle {
            font-size: clamp(0.9rem, 3vw, 1.2rem);
            color: #ccc;
        }
        
        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–≥—Ä—ã */
        .game-container {
            max-width: 800px;
            width: 100%;
            margin: 0 auto;
            background-color: rgba(40, 40, 40, 0.9);
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 0 15px rgba(255, 107, 0, 0.3);
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        /* –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ */
        .game-area {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 60%; /* –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω */
            background-color: #5a3a22;
            background-image: url('https://images.unsplash.com/photo-1600566752355-35792bedcfea?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-position: center;
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 15px;
            border: 2px solid #3a2718;
            touch-action: manipulation;
        }
        
        /* –ü–µ—Ä—Å–æ–Ω–∞–∂ –ú–∞—Ç–≤–µ–π */
        .matvey {
            position: absolute;
            bottom: 3%;
            left: 50%;
            transform: translateX(-50%);
            width: 12%;
            max-width: 80px;
            height: 18%;
            max-height: 120px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 150"><circle cx="50" cy="40" r="30" fill="%23d4a76a"/><rect x="35" y="70" width="30" height="50" fill="%233a2718"/><rect x="30" y="120" width="10" height="30" fill="%233a2718"/><rect x="60" y="120" width="10" height="30" fill="%233a2718"/><circle cx="40" cy="35" r="5" fill="%23000"/><circle cx="60" cy="35" r="5" fill="%23000"/><path d="M45,55 Q50,60 55,55" stroke="%23000" stroke-width="2" fill="none"/></svg>');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: bottom;
            transition: left 0.1s ease;
            z-index: 10;
        }
        
        /* –ü–∞–¥–∞—é—â–µ–µ –ø–∏–≤–æ */
        .beer {
            position: absolute;
            width: 6%;
            max-width: 40px;
            height: 9%;
            max-height: 60px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 60"><rect x="5" y="10" width="30" height="45" rx="2" fill="%23f5a623"/><rect x="5" y="5" width="30" height="5" rx="2" fill="%23ddd"/><rect x="15" y="0" width="10" height="5" fill="%23ddd"/></svg>');
            background-size: contain;
            background-repeat: no-repeat;
            z-index: 5;
        }
        
        /* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä—ã */
        .game-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            background-color: rgba(90, 58, 34, 0.7);
            padding: 12px;
            border-radius: 8px;
            font-size: clamp(0.9rem, 3vw, 1.2rem);
            gap: 10px;
        }
        
        .stat {
            text-align: center;
            flex: 1;
        }
        
        .stat-label {
            margin-bottom: 5px;
        }
        
        .stat-value {
            font-weight: bold;
            color: #ff6b00;
            font-size: clamp(1.2rem, 4vw, 1.5rem);
        }
        
        /* –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        button {
            background-color: #ff6b00;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: clamp(0.9rem, 3vw, 1.1rem);
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            min-width: 120px;
        }
        
        button:hover {
            background-color: #ff8c00;
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.4);
        }
        
        button:active {
            transform: translateY(1px);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        /* –°–æ–æ–±—â–µ–Ω–∏–µ –∏–≥—Ä—ã */
        .game-message {
            text-align: center;
            font-size: clamp(1rem, 4vw, 1.5rem);
            color: #ff6b00;
            min-height: 40px;
            margin-bottom: 15px;
            text-shadow: 1px 1px 2px #000;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è */
        .instructions {
            background-color: rgba(90, 58, 34, 0.7);
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            font-size: clamp(0.8rem, 3vw, 1rem);
        }
        
        .instructions h2 {
            color: #ff6b00;
            margin-bottom: 12px;
            text-align: center;
            font-size: clamp(1.1rem, 4vw, 1.4rem);
        }
        
        .instructions ul {
            list-style-type: none;
        }
        
        .instructions li {
            margin-bottom: 8px;
            position: relative;
            padding-left: 30px;
            line-height: 1.4;
        }
        
        .instructions li:before {
            content: "üç∫";
            position: absolute;
            left: 5px;
        }
        
        /* –°–µ–Ω—Å–æ—Ä–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
        .touch-controls {
            display: none;
            justify-content: space-between;
            margin-top: 10px;
            padding: 0 10%;
        }
        
        .touch-btn {
            width: 60px;
            height: 60px;
            background-color: rgba(255, 107, 0, 0.3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
            touch-action: manipulation;
        }
        
        /* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
        @media (max-width: 768px) {
            .overlay {
                padding: 10px;
            }
            
            .game-container {
                padding: 12px;
                border-radius: 10px;
            }
            
            .touch-controls {
                display: flex;
            }
            
            .instructions {
                margin-top: 15px;
                padding: 12px;
            }
        }
        
        @media (max-height: 600px) {
            .game-area {
                padding-bottom: 50%;
            }
            
            .instructions {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="overlay">
        <header>
            <h1>–ü–æ–π–º–∞–π –ø–∏–≤–æ –≤ –±–∞–Ω–µ —Å –ú–∞—Ç–≤–µ–µ–º</h1>
            <p class="subtitle">–°–∞–º–∞—è –≤–∞–∂–Ω–∞—è –∏–≥—Ä–∞ —ç—Ç–æ–≥–æ –ª–µ—Ç–∞!</p>
        </header>
        
        <div class="game-container">
            <div class="game-stats">
                <div class="stat">
                    <div class="stat-label">–°—á–µ—Ç</div>
                    <div class="stat-value" id="score">0</div>
                </div>
                <div class="stat">
                    <div class="stat-label">–ü—Ä–æ–ø—É—â–µ–Ω–æ</div>
                    <div class="stat-value" id="missed">0</div>
                </div>
                <div class="stat">
                    <div class="stat-label">–†–µ–∫–æ—Ä–¥</div>
                    <div class="stat-value" id="highscore">0</div>
                </div>
            </div>
            
            <div class="game-message" id="message"></div>
            
            <div class="game-area" id="gameArea">
                <div class="matvey" id="matvey"></div>
            </div>
            
            <div class="touch-controls">
                <div class="touch-btn" id="leftBtn">‚Üê</div>
                <div class="touch-btn" id="rightBtn">‚Üí</div>
            </div>
            
            <div class="controls">
                <button id="startBtn">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
                <button id="resetBtn">–°–±—Ä–æ—Å–∏—Ç—å</button>
            </div>
            
            <div class="instructions">
                <h2>–ö–∞–∫ –∏–≥—Ä–∞—Ç—å?</h2>
                <ul>
                    <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–ª–∞–≤–∏—à–∏ ‚Üê –∏ ‚Üí –∏–ª–∏ –∫–Ω–æ–ø–∫–∏ –Ω–∏–∂–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</li>
                    <li>–õ–æ–≤–∏—Ç–µ –ø–∞–¥–∞—é—â–∏–µ –±—É—Ç—ã–ª–∫–∏ –ø–∏–≤–∞, —á—Ç–æ–±—ã –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—á–∫–∏</li>
                    <li>–ù–µ –¥–∞–π—Ç–µ –ø–∏–≤—É —É–ø–∞—Å—Ç—å –Ω–∞ –ø–æ–ª - –∑–∞ –∫–∞–∂–¥—É—é –ø—Ä–æ–ø—É—â–µ–Ω–Ω—É—é –±—É—Ç—ã–ª–∫—É —à—Ç—Ä–∞—Ñ!</li>
                    <li>–ü–æ—Å–ª–µ 10 –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –±—É—Ç—ã–ª–æ–∫ –∏–≥—Ä–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // –≠–ª–µ–º–µ–Ω—Ç—ã –∏–≥—Ä—ã
        const gameArea = document.getElementById('gameArea');
        const matvey = document.getElementById('matvey');
        const startBtn = document.getElementById('startBtn');
        const resetBtn = document.getElementById('resetBtn');
        const leftBtn = document.getElementById('leftBtn');
        const rightBtn = document.getElementById('rightBtn');
        const scoreDisplay = document.getElementById('score');
        const missedDisplay = document.getElementById('missed');
        const highscoreDisplay = document.getElementById('highscore');
        const messageDisplay = document.getElementById('message');
        
        // –†–∞–∑–º–µ—Ä—ã –∏–≥—Ä–æ–≤–æ–π –æ–±–ª–∞—Å—Ç–∏
        const gameWidth = gameArea.offsetWidth;
        const gameHeight = gameArea.offsetHeight;
        
        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–≥—Ä—ã
        let score = 0;
        let missed = 0;
        let highscore = localStorage.getItem('beerGameHighscore') || 0;
        let gameActive = false;
        let gameSpeed = 2;
        let beerInterval;
        let speedInterval;
        let matveyPosition = 50; // –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
        let matveyWidth = matvey.offsetWidth;
        let isLeftPressed = false;
        let isRightPressed = false;
        let moveInterval;
        
        // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–µ–∫–æ—Ä–¥–∞
        highscoreDisplay.textContent = highscore;
        
        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏ –ú–∞—Ç–≤–µ—è
        function updateMatveyPosition() {
            const maxPosition = gameWidth - matveyWidth;
            const pixelPosition = (matveyPosition / 100) * (gameWidth - matveyWidth);
            matvey.style.left = `${pixelPosition}px`;
        }
        
        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
        document.addEventListener('keydown', (e) => {
            if (!gameActive) return;
            
            const step = 1; // —à–∞–≥ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
            
            if (e.key === 'ArrowLeft') {
                matveyPosition = Math.max(0, matveyPosition - step);
                updateMatveyPosition();
            } else if (e.key === 'ArrowRight') {
                matveyPosition = Math.min(100, matveyPosition + step);
                updateMatveyPosition();
            }
        });
        
        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º—ã—à—å—é/–∫–∞—Å–∞–Ω–∏–µ–º
        gameArea.addEventListener('mousemove', (e) => {
            if (!gameActive) return;
            
            const rect = gameArea.getBoundingClientRect();
            const mouseX = e.clientX - rect.left;
            matveyPosition = (mouseX / gameWidth) * 100;
            updateMatveyPosition();
        });
        
        gameArea.addEventListener('touchmove', (e) => {
            if (!gameActive) return;
            e.preventDefault();
            
            const touch = e.touches[0];
            const rect = gameArea.getBoundingClientRect();
            const touchX = touch.clientX - rect.left;
            matveyPosition = (touchX / gameWidth) * 100;
            updateMatveyPosition();
        }, { passive: false });
        
        // –°–µ–Ω—Å–æ—Ä–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
        leftBtn.addEventListener('touchstart', () => {
            isLeftPressed = true;
            startMoving();
        });
        
        leftBtn.addEventListener('touchend', () => {
            isLeftPressed = false;
            stopMoving();
        });
        
        rightBtn.addEventListener('touchstart', () => {
            isRightPressed = true;
            startMoving();
        });
        
        rightBtn.addEventListener('touchend', () => {
            isRightPressed = false;
            stopMoving();
        });
        
        function startMoving() {
            if (moveInterval) clearInterval(moveInterval);
            moveInterval = setInterval(() => {
                if (!gameActive) return;
                
                const step = 0.8; // —à–∞–≥ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
                
                if (isLeftPressed) {
                    matveyPosition = Math.max(0, matveyPosition - step);
                }
                if (isRightPressed) {
                    matveyPosition = Math.min(100, matveyPosition + step);
                }
                
                updateMatveyPosition();
            }, 16);
        }
        
        function stopMoving() {
            if (!isLeftPressed && !isRightPressed) {
                clearInterval(moveInterval);
                moveInterval = null;
            }
        }
        
        // –°–æ–∑–¥–∞–Ω–∏–µ –ø–∏–≤–∞
        function createBeer() {
            if (!gameActive) return;
            
            const beer = document.createElement('div');
            beer.className = 'beer';
            
            // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –ø–æ X (–≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö)
            const beerX = Math.random() * 94 + 3; // 3-97%
            beer.style.left = `${beerX}%`;
            beer.style.top = '-9%';
            
            gameArea.appendChild(beer);
            
            // –ü–∞–¥–µ–Ω–∏–µ –ø–∏–≤–∞
            let beerY = -9; // –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
            const fallSpeed = (Math.random() * 0.3 + 0.2) * gameSpeed;
            
            const fallInterval = setInterval(() => {
                if (!gameActive) {
                    clearInterval(fallInterval);
                    beer.remove();
                    return;
                }
                
                beerY += fallSpeed;
                beer.style.top = `${beerY}%`;
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è —Å –ú–∞—Ç–≤–µ–µ–º
                const beerRect = beer.getBoundingClientRect();
                const matveyRect = matvey.getBoundingClientRect();
                
                if (
                    beerRect.bottom >= matveyRect.top + 20 &&
                    beerRect.top <= matveyRect.bottom - 10 &&
                    beerRect.right >= matveyRect.left + 10 &&
                    beerRect.left <= matveyRect.right - 10
                ) {
                    // –ü–∏–≤–æ –ø–æ–π–º–∞–Ω–æ
                    clearInterval(fallInterval);
                    beer.remove();
                    score++;
                    scoreDisplay.textContent = score;
                    showMessage('–û—Ç–ª–∏—á–Ω–æ! +1 –∫ –≥—Ä–∞–¥—É—Å—É!');
                    
                    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–∫–æ—Ä–¥–∞
                    if (score > highscore) {
                        highscore = score;
                        highscoreDisplay.textContent = highscore;
                        localStorage.setItem('beerGameHighscore', highscore);
                    }
                    
                    return;
                }
                
                // –ü–∏–≤–æ —É–ø–∞–ª–æ –Ω–∞ –ø–æ–ª
                if (beerY >= 91) {
                    clearInterval(fallInterval);
                    beer.remove();
                    missed++;
                    missedDisplay.textContent = missed;
                    showMessage('–≠—Ö, –ø—Ä–æ–ø—É—Å—Ç–∏–ª –ø–∏–≤–∫–æ...');
                    
                    // –ö–æ–Ω–µ—Ü –∏–≥—Ä—ã
                    if (missed >= 10) {
                        endGame();
                    }
                }
            }, 16);
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
        function showMessage(text) {
            messageDisplay.textContent = text;
            setTimeout(() => {
                if (messageDisplay.textContent === text) {
                    messageDisplay.textContent = '';
                }
            }, 1000);
        }
        
        // –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏
        function increaseSpeed() {
            if (!gameActive) return;
            gameSpeed += 0.1;
        }
        
        // –ù–∞—á–∞–ª–æ –∏–≥—Ä—ã
        function startGame() {
            if (gameActive) return;
            
            // –°–±—Ä–æ—Å –∑–Ω–∞—á–µ–Ω–∏–π
            score = 0;
            missed = 0;
            gameSpeed = 2;
            scoreDisplay.textContent = '0';
            missedDisplay.textContent = '0';
            showMessage('–õ–æ–≤–∏ –ø–∏–≤–∫–æ, –ú–∞—Ç–≤–µ–π!');
            
            // –û—á–∏—Å—Ç–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –±—É—Ç—ã–ª–æ–∫
            document.querySelectorAll('.beer').forEach(beer => beer.remove());
            
            gameActive = true;
            startBtn.textContent = '–ò–¥–µ—Ç –∏–≥—Ä–∞...';
            
            // –ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤
            beerInterval = setInterval(createBeer, 1000);
            speedInterval = setInterval(increaseSpeed, 5000);
        }
        
        // –ö–æ–Ω–µ—Ü –∏–≥—Ä—ã
        function endGame() {
            gameActive = false;
            clearInterval(beerInterval);
            clearInterval(speedInterval);
            if (moveInterval) clearInterval(moveInterval);
            
            showMessage(`–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞! –¢–≤–æ–π —Å—á–µ—Ç: ${score}`);
            startBtn.textContent = '–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞';
        }
        
        // –°–±—Ä–æ—Å –∏–≥—Ä—ã
        function resetGame() {
            endGame();
            score = 0;
            missed = 0;
            scoreDisplay.textContent = '0';
            missedDisplay.textContent = '0';
            showMessage('–ì–æ—Ç–æ–≤ –∫ –Ω–æ–≤–æ–π –ø–æ–ø—ã—Ç–∫–µ?');
        }
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫
        startBtn.addEventListener('click', startGame);
        resetBtn.addEventListener('click', resetGame);
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∑–∏—Ü–∏–∏ –ú–∞—Ç–≤–µ—è
        updateMatveyPosition();
        
        // –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
        window.addEventListener('resize', () => {
            if (gameActive) return;
            updateMatveyPosition();
        });
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–æ–π–º–∞–π –ø–∏–≤–æ –≤ –±–∞–Ω–µ —Å –ú–∞—Ç–≤–µ–µ–º</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            background-color: #1a1a1a;
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
            touch-action: manipulation;
        }
        
        .overlay {
            background: linear-gradient(to bottom, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.7) 100%);
            min-height: 100vh;
            padding: 15px;
            display: flex;
            flex-direction: column;
        }
        
        header {
            text-align: center;
            padding: 15px 0;
            margin-bottom: 20px;
            border-bottom: 3px solid #ff6b00;
        }
        
        h1 {
            font-size: clamp(1.8rem, 5vw, 3rem);
            color: #ff6b00;
            text-shadow: 2px 2px 4px #000;
            margin-bottom: 8px;
            line-height: 1.2;
        }
        
        .subtitle {
            font-size: clamp(0.9rem, 3vw, 1.2rem);
            color: #ccc;
        }
        
        .game-container {
            max-width: 800px;
            width: 100%;
            margin: 0 auto;
            background-color: rgba(40, 40, 40, 0.9);
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 0 15px rgba(255, 107, 0, 0.3);
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .game-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            background-color: rgba(90, 58, 34, 0.7);
            padding: 12px;
            border-radius: 8px;
            font-size: clamp(0.9rem, 3vw, 1.2rem);
            gap: 10px;
        }
        
        .stat {
            text-align: center;
            flex: 1;
        }
        
        .stat-label {
            margin-bottom: 5px;
        }
        
        .stat-value {
            font-weight: bold;
            color: #ff6b00;
            font-size: clamp(1.2rem, 4vw, 1.5rem);
        }
        
        .game-message {
            text-align: center;
            font-size: clamp(1rem, 4vw, 1.5rem);
            color: #ff6b00;
            min-height: 40px;
            margin-bottom: 15px;
            text-shadow: 1px 1px 2px #000;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .game-area-container {
            position: relative;
            width: 100%;
            margin-bottom: 15px;
        }
        
        #gameCanvas {
            width: 100%;
            height: auto;
            max-height: 60vh;
            background-color: #5a3a22;
            background-image: url('https://images.unsplash.com/photo-1600566752355-35792bedcfea?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-position: center;
            border-radius: 8px;
            border: 2px solid #3a2718;
            display: block;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        button {
            background-color: #ff6b00;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: clamp(0.9rem, 3vw, 1.1rem);
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            min-width: 120px;
        }
        
        button:hover {
            background-color: #ff8c00;
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.4);
        }
        
        button:active {
            transform: translateY(1px);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .touch-controls {
            display: none;
            justify-content: space-between;
            margin-top: 10px;
            padding: 0 10%;
        }
        
        .touch-btn {
            width: 60px;
            height: 60px;
            background-color: rgba(255, 107, 0, 0.3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
            touch-action: manipulation;
        }
        
        .instructions {
            background-color: rgba(90, 58, 34, 0.7);
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            font-size: clamp(0.8rem, 3vw, 1rem);
        }
        
        .instructions h2 {
            color: #ff6b00;
            margin-bottom: 12px;
            text-align: center;
            font-size: clamp(1.1rem, 4vw, 1.4rem);
        }
        
        .instructions ul {
            list-style-type: none;
        }
        
        .instructions li {
            margin-bottom: 8px;
            position: relative;
            padding-left: 30px;
            line-height: 1.4;
        }
        
        .instructions li:before {
            content: "üç∫";
            position: absolute;
            left: 5px;
        }
        
        @media (max-width: 768px) {
            .overlay {
                padding: 10px;
            }
            
            .game-container {
                padding: 12px;
                border-radius: 10px;
            }
            
            .touch-controls {
                display: flex;
            }
            
            .instructions {
                margin-top: 15px;
                padding: 12px;
            }
        }
        
        @media (max-height: 600px) {
            #gameCanvas {
                max-height: 50vh;
            }
            
            .instructions {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="overlay">
        <header>
            <h1>–ü–æ–π–º–∞–π –ø–∏–≤–æ –≤ –±–∞–Ω–µ —Å –ú–∞—Ç–≤–µ–µ–º</h1>
            <p class="subtitle">–°–∞–º–∞—è –≤–∞–∂–Ω–∞—è –∏–≥—Ä–∞ —ç—Ç–æ–≥–æ –ª–µ—Ç–∞!</p>
        </header>
        
        <div class="game-container">
            <div class="game-stats">
                <div class="stat">
                    <div class="stat-label">–°—á–µ—Ç</div>
                    <div class="stat-value" id="score">0</div>
                </div>
                <div class="stat">
                    <div class="stat-label">–ü—Ä–æ–ø—É—â–µ–Ω–æ</div>
                    <div class="stat-value" id="missed">0</div>
                </div>
                <div class="stat">
                    <div class="stat-label">–†–µ–∫–æ—Ä–¥</div>
                    <div class="stat-value" id="highscore">0</div>
                </div>
            </div>
            
            <div class="game-message" id="message"></div>
            
            <div class="game-area-container">
                <canvas id="gameCanvas" width="800" height="500"></canvas>
            </div>
            
            <div class="touch-controls">
                <div class="touch-btn" id="leftBtn">‚Üê</div>
                <div class="touch-btn" id="rightBtn">‚Üí</div>
            </div>
            
            <div class="controls">
                <button id="startBtn">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
                <button id="resetBtn">–°–±—Ä–æ—Å–∏—Ç—å</button>
            </div>
            
            <div class="instructions">
                <h2>–ö–∞–∫ –∏–≥—Ä–∞—Ç—å?</h2>
                <ul>
                    <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–ª–∞–≤–∏—à–∏ ‚Üê –∏ ‚Üí –∏–ª–∏ –∫–Ω–æ–ø–∫–∏ –Ω–∏–∂–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</li>
                    <li>–õ–æ–≤–∏—Ç–µ –ø–∞–¥–∞—é—â–∏–µ –∫—Ä—É–∂–∫–∏ –ø–∏–≤–∞, —á—Ç–æ–±—ã –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—á–∫–∏</li>
                    <li>–ù–µ –¥–∞–π—Ç–µ –ø–∏–≤—É —É–ø–∞—Å—Ç—å –Ω–∞ –ø–æ–ª - –∑–∞ –∫–∞–∂–¥—É—é –ø—Ä–æ–ø—É—â–µ–Ω–Ω—É—é –∫—Ä—É–∂–∫—É —à—Ç—Ä–∞—Ñ!</li>
                    <li>–ü–æ—Å–ª–µ 10 –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –∫—Ä—É–∂–µ–∫ –∏–≥—Ä–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        class BeerGame {
            constructor() {
                this.canvas = document.getElementById('gameCanvas');
                this.ctx = this.canvas.getContext('2d');
                this.scoreDisplay = document.getElementById('score');
                this.missedDisplay = document.getElementById('missed');
                this.highscoreDisplay = document.getElementById('highscore');
                this.messageDisplay = document.getElementById('message');
                this.startBtn = document.getElementById('startBtn');
                this.resetBtn = document.getElementById('resetBtn');
                this.leftBtn = document.getElementById('leftBtn');
                this.rightBtn = document.getElementById('rightBtn');
                
                // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä—ã
                this.score = 0;
                this.missed = 0;
                this.highscore = localStorage.getItem('beerGameHighscore') || 0;
                this.gameActive = false;
                this.gameSpeed = 2;
                this.lastTime = 0;
                this.beers = [];
                this.animationId = null;
                
                // –†–∞–∑–º–µ—Ä—ã –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
                this.matveyWidth = 80;
                this.matveyHeight = 120;
                this.matveyX = this.canvas.width / 2 - this.matveyWidth / 2;
                this.matveyY = this.canvas.height - this.matveyHeight - 10;
                
                // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∏–≤–∞
                this.beerWidth = 40;
                this.beerHeight = 60;
                this.beerSpawnRate = 1000; // –º—Å
                this.lastBeerSpawn = 0;
                
                // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
                this.keys = {};
                this.isLeftPressed = false;
                this.isRightPressed = false;
                this.moveSpeed = 8;
                
                // –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                this.background = new Image();
                this.background.src = 'https://images.unsplash.com/photo-1600566752355-35792bedcfea?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80';
                
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
                this.init();
            }
            
            init() {
                // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ canvas
                this.resizeCanvas();
                window.addEventListener('resize', () => this.resizeCanvas());
                
                // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
                document.addEventListener('keydown', (e) => {
                    this.keys[e.key] = true;
                });
                
                document.addEventListener('keyup', (e) => {
                    this.keys[e.key] = false;
                });
                
                // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º—ã—à—å—é/–∫–∞—Å–∞–Ω–∏–µ–º
                this.canvas.addEventListener('mousemove', (e) => {
                    if (!this.gameActive) return;
                    const rect = this.canvas.getBoundingClientRect();
                    this.matveyX = e.clientX - rect.left - this.matveyWidth / 2;
                    this.clampMatveyPosition();
                });
                
                this.canvas.addEventListener('touchmove', (e) => {
                    if (!this.gameActive) return;
                    e.preventDefault();
                    const touch = e.touches[0];
                    const rect = this.canvas.getBoundingClientRect();
                    this.matveyX = touch.clientX - rect.left - this.matveyWidth / 2;
                    this.clampMatveyPosition();
                }, { passive: false });
                
                // –°–µ–Ω—Å–æ—Ä–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
                this.leftBtn.addEventListener('touchstart', () => {
                    this.isLeftPressed = true;
                });
                
                this.leftBtn.addEventListener('touchend', () => {
                    this.isLeftPressed = false;
                });
                
                this.rightBtn.addEventListener('touchstart', () => {
                    this.isRightPressed = true;
                });
                
                this.rightBtn.addEventListener('touchend', () => {
                    this.isRightPressed = false;
                });
                
                // –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
                this.startBtn.addEventListener('click', () => this.startGame());
                this.resetBtn.addEventListener('click', () => this.resetGame());
                
                // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–µ–∫–æ—Ä–¥–∞
                this.highscoreDisplay.textContent = this.highscore;
                
                // –ù–∞—á–∞–ª—å–Ω–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞
                this.draw();
            }
            
            resizeCanvas() {
                const container = this.canvas.parentElement;
                const containerWidth = container.clientWidth;
                const aspectRatio = this.canvas.height / this.canvas.width;
                this.canvas.width = containerWidth;
                this.canvas.height = containerWidth * aspectRatio;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é –ú–∞—Ç–≤–µ—è
                this.matveyY = this.canvas.height - this.matveyHeight - 10;
                this.clampMatveyPosition();
            }
            
            clampMatveyPosition() {
                this.matveyX = Math.max(0, Math.min(this.matveyX, this.canvas.width - this.matveyWidth));
            }
            
            startGame() {
                if (this.gameActive) return;
                
                // –°–±—Ä–æ—Å –∑–Ω–∞—á–µ–Ω–∏–π
                this.score = 0;
                this.missed = 0;
                this.gameSpeed = 2;
                this.beers = [];
                this.scoreDisplay.textContent = '0';
                this.missedDisplay.textContent = '0';
                this.showMessage('–õ–æ–≤–∏ –ø–∏–≤–∫–æ, –ú–∞—Ç–≤–µ–π!');
                
                this.gameActive = true;
                this.startBtn.textContent = '–ò–¥–µ—Ç –∏–≥—Ä–∞...';
                this.lastBeerSpawn = performance.now();
                
                // –ó–∞–ø—É—Å–∫ –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞
                this.lastTime = performance.now();
                this.gameLoop(this.lastTime);
            }
            
            gameLoop(timestamp) {
                if (!this.gameActive) return;
                
                const deltaTime = timestamp - this.lastTime;
                this.lastTime = timestamp;
                
                // –û—á–∏—Å—Ç–∫–∞ canvas
                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
                
                // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ñ–æ–Ω–∞
                if (this.background.complete) {
                    this.ctx.drawImage(this.background, 0, 0, this.canvas.width, this.canvas.height);
                } else {
                    this.ctx.fillStyle = '#5a3a22';
                    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
                }
                
                // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
                this.handleInput(deltaTime);
                
                // –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–∏–≤–∞
                if (timestamp - this.lastBeerSpawn > this.beerSpawnRate / this.gameSpeed) {
                    this.spawnBeer();
                    this.lastBeerSpawn = timestamp;
                }
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ –ø–∏–≤–∞
                this.updateBeers(deltaTime);
                
                // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –ú–∞—Ç–≤–µ—è
                this.drawMatvey();
                
                // –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞
                this.animationId = requestAnimationFrame((t) => this.gameLoop(t));
            }
            
            handleInput(deltaTime) {
                const moveAmount = this.moveSpeed * (deltaTime / 16);
                
                if (this.keys['ArrowLeft'] || this.isLeftPressed) {
                    this.matveyX -= moveAmount;
                }
                if (this.keys['ArrowRight'] || this.isRightPressed) {
                    this.matveyX += moveAmount;
                }
                
                this.clampMatveyPosition();
            }
            
            spawnBeer() {
                const beerX = Math.random() * (this.canvas.width - this.beerWidth);
                this.beers.push({
                    x: beerX,
                    y: -this.beerHeight,
                    speed: (Math.random() * 2 + 2) * this.gameSpeed,
                    caught: false
                });
            }
            
            updateBeers(deltaTime) {
                for (let i = this.beers.length - 1; i >= 0; i--) {
                    const beer = this.beers[i];
                    
                    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏
                    beer.y += beer.speed * (deltaTime / 16);
                    
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è —Å –ú–∞—Ç–≤–µ–µ–º
                    if (
                        beer.y + this.beerHeight >= this.matveyY &&
                        beer.y <= this.matveyY + this.matveyHeight &&
                        beer.x + this.beerWidth >= this.matveyX &&
                        beer.x <= this.matveyX + this.matveyWidth &&
                        !beer.caught
                    ) {
                        // –ü–∏–≤–æ –ø–æ–π–º–∞–Ω–æ
                        beer.caught = true;
                        this.score++;
                        this.scoreDisplay.textContent = this.score;
                        this.showMessage('–û—Ç–ª–∏—á–Ω–æ! +1 –∫ –≥—Ä–∞–¥—É—Å—É!');
                        
                        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–∫–æ—Ä–¥–∞
                        if (this.score > this.highscore) {
                            this.highscore = this.score;
                            this.highscoreDisplay.textContent = this.highscore;
                            localStorage.setItem('beerGameHighscore', this.highscore);
                        }
                    }
                    
                    // –ü–∏–≤–æ —É–ø–∞–ª–æ –Ω–∞ –ø–æ–ª
                    if (beer.y >= this.canvas.height) {
                        this.beers.splice(i, 1);
                        if (!beer.caught) {
                            this.missed++;
                            this.missedDisplay.textContent = this.missed;
                            this.showMessage('–≠—Ö, –ø—Ä–æ–ø—É—Å—Ç–∏–ª –ø–∏–≤–∫–æ...');
                            
                            // –ö–æ–Ω–µ—Ü –∏–≥—Ä—ã
                            if (this.missed >= 10) {
                                this.endGame();
                            }
                        }
                        continue;
                    }
                    
                    // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –ø–∏–≤–∞
                    this.drawBeer(beer.x, beer.y);
                }
                
                // –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
                if (performance.now() - this.lastTime > 5000) {
                    this.gameSpeed += 0.1;
                }
            }
            
            drawMatvey() {
                // –¢–µ–ª–æ
                this.ctx.fillStyle = '#d4a76a'; // —Ü–≤–µ—Ç –∫–æ–∂–∏
                this.ctx.beginPath();
                this.ctx.arc(
                    this.matveyX + this.matveyWidth / 2,
                    this.matveyY + this.matveyWidth / 3,
                    this.matveyWidth / 3,
                    0,
                    Math.PI * 2
                );
                this.ctx.fill();
                
                // –í–æ–ª–æ—Å—ã
                this.ctx.fillStyle = '#3a2718';
                this.ctx.beginPath();
                this.ctx.arc(
                    this.matveyX + this.matveyWidth / 2,
                    this.matveyY + this.matveyWidth / 3 - 5,
                    this.matveyWidth / 3.5,
                    0,
                    Math.PI * 2
                );
                this.ctx.fill();
                
                // –ì–ª–∞–∑–∞
                this.ctx.fillStyle = '#000';
                this.ctx.beginPath();
                this.ctx.arc(
                    this.matveyX + this.matveyWidth / 2 - 10,
                    this.matveyY + this.matveyWidth / 3,
                    5,
                    0,
                    Math.PI * 2
                );
                this.ctx.arc(
                    this.matveyX + this.matveyWidth / 2 + 10,
                    this.matveyY + this.matveyWidth / 3,
                    5,
                    0,
                    Math.PI * 2
                );
                this.ctx.fill();
                
                // –†–æ—Ç
                this.ctx.strokeStyle = '#000';
                this.ctx.lineWidth = 2;
                this.ctx.beginPath();
                this.ctx.arc(
                    this.matveyX + this.matveyWidth / 2,
                    this.matveyY + this.matveyWidth / 3 + 10,
                    10,
                    0.1 * Math.PI,
                    0.9 * Math.PI
                );
                this.ctx.stroke();
                
                // –¢–µ–ª–æ (—Ä—É–±–∞—à–∫–∞)
                this.ctx.fillStyle = '#3a2718';
                this.ctx.fillRect(
                    this.matveyX + this.matveyWidth / 4,
                    this.matveyY + this.matveyWidth / 2,
                    this.matveyWidth / 2,
                    this.matveyHeight - this.matveyWidth / 2
                );
                
                // –ù–æ–≥–∏
                this.ctx.fillRect(
                    this.matveyX + this.matveyWidth / 4,
                    this.matveyY + this.matveyHeight - 20,
                    this.matveyWidth / 5,
                    20
                );
                this.ctx.fillRect(
                    this.matveyX + this.matveyWidth * 11/20,
                    this.matveyY + this.matveyHeight - 20,
                    this.matveyWidth / 5,
                    20
                );
                
                // –†—É–∫–∏
                this.ctx.fillStyle = '#d4a76a';
                this.ctx.fillRect(
                    this.matveyX,
                    this.matveyY + this.matveyWidth / 2 + 10,
                    this.matveyWidth / 4,
                    this.matveyHeight / 3
                );
                this.ctx.fillRect(
                    this.matveyX + this.matveyWidth * 3/4,
                    this.matveyY + this.matveyWidth / 2 + 10,
                    this.matveyWidth / 4,
                    this.matveyHeight / 3
                );
            }
            
            drawBeer(x, y) {
                // –û—Å–Ω–æ–≤–Ω–∞—è —á–∞—Å—Ç—å –∫—Ä—É–∂–∫–∏
                this.ctx.fillStyle = '#f5a623';
                this.ctx.beginPath();
                this.ctx.roundRect(
                    x + 5,
                    y + 10,
                    this.beerWidth - 10,
                    this.beerHeight - 15,
                    [0, 0, 5, 5]
                );
                this.ctx.fill();
                
                // –ü–µ–Ω–∞
                this.ctx.fillStyle = '#ffffff';
                this.ctx.beginPath();
                this.ctx.arc(
                    x + this.beerWidth / 2,
                    y + 15,
                    (this.beerWidth - 10) / 2,
                    Math.PI,
                    0
                );
                this.ctx.fill();
                
                // –í–µ—Ä—Ö –∫—Ä—É–∂–∫–∏
                this.ctx.fillStyle = '#dddddd';
                this.ctx.beginPath();
                this.ctx.roundRect(
                    x + 5,
                    y + 5,
                    this.beerWidth - 10,
                    5,
                    [2, 2, 0, 0]
                );
                this.ctx.fill();
                
                // –†—É—á–∫–∞ –∫—Ä—É–∂–∫–∏
                this.ctx.strokeStyle = '#dddddd';
                this.ctx.lineWidth = 5;
                this.ctx.beginPath();
                this.ctx.arc(
                    x + this.beerWidth - 5,
                    y + 25,
                    10,
                    -0.5 * Math.PI,
                    0.5 * Math.PI
                );
                this.ctx.stroke();
            }
            
            showMessage(text) {
                this.messageDisplay.textContent = text;
                setTimeout(() => {
                    if (this.messageDisplay.textContent === text) {
                        this.messageDisplay.textContent = '';
                    }
                }, 1000);
            }
            
            endGame() {
                this.gameActive = false;
                cancelAnimationFrame(this.animationId);
                this.showMessage(`–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞! –¢–≤–æ–π —Å—á–µ—Ç: ${this.score}`);
                this.startBtn.textContent = '–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞';
            }
            
            resetGame() {
                this.endGame();
                this.score = 0;
                this.missed = 0;
                this.scoreDisplay.textContent = '0';
                this.missedDisplay.textContent = '0';
                this.showMessage('–ì–æ—Ç–æ–≤ –∫ –Ω–æ–≤–æ–π –ø–æ–ø—ã—Ç–∫–µ?');
                this.draw();
            }
            
            draw() {
                // –û—á–∏—Å—Ç–∫–∞ canvas
                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
                
                // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ñ–æ–Ω–∞
                if (this.background.complete) {
                    this.ctx.drawImage(this.background, 0, 0, this.canvas.width, this.canvas.height);
                } else {
                    this.ctx.fillStyle = '#5a3a22';
                    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
                }
                
                // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –ú–∞—Ç–≤–µ—è
                this.drawMatvey();
            }
        }
        
        // –°–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('load', () => {
            const game = new BeerGame();
        });
    </script>
</body>
</html>